<div class="col-md-12">
    
    <div class="alert alert-danger mb-3" *ngIf="error!=null" [innerHTML]="error"></div>

    <div class="card" *ngIf="!isNotFound">
        <div class="card-header">
            Šauktinio <strong>{{old.name}}</strong> redagavimas
        </div>
        <div class="card-body">
            <form (ngSubmit)="onSubmit(f)" #f="ngForm">
                <div class="mb-3">
                    <label for="" class="form-label">Vardas</label>
                    <input type="text" class="form-control" [(ngModel)]="name"  name="name" required minlength="3" maxlength="8" #nameLR="ngModel" >
                    <span *ngIf="!nameLR.valid && nameLR.touched">Vardas ne trumpesnis nei 3 simboliai ir ne ilgesnis nei simboliai {{name}}</span> 
                  
                </div>
                <div class="mb-3">
                    <label for="" class="form-label">Pavardė</label>
                    <input type="text" class="form-control" [(ngModel)]="surname" name="surname" required minlength="3" maxlength="8" #surnameLR="ngModel" >
                    <span *ngIf="!surnameLR.valid && surnameLR.touched">Vardas ne trumpesnis nei 3 simboliai ir ne ilgesnis nei simboliai</span> 
                </div>
                <div class="mb-3">
                    <label for="" class="form-label">El. pašto adresas</label>
                    <input type="text" class="form-control" [(ngModel)]="email" name="email" required email (blur)="onEmailUpdate()"  [ngClass]="{'error':!isEmailValid}">
                    <span *ngIf="!isEmailValid">El. pašto adresas yra užimtas, įveskite kitą adresą</span>
                </div>
                <div class="mb-3">
                    <label for="" class="form-label">Telefonas</label>
                    <input type="text" class="form-control" [(ngModel)]="phone" name="phone" >
                </div>
                <div class="mb-3">
                    <label for="" class="form-label">Amžius</label>
                    <input type="text" class="form-control" [(ngModel)]="age" name="age" pattern="[0-9]*"  >
                </div>
                <button class="btn btn-success" type="submit" [disabled]="!f.valid || !isEmailValid">Atnaujinti</button>
                <a class="btn btn-info float-end" routerLink="/">Gryžti atgal</a>
            </form>
        </div>
    </div>
</div>
